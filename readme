#############################################################################
# ----------------- supervisor environment setting guide ------------------ #
#           bash에 등록된 환경변수를 불러오지 못하는 환경에서도             #
#           supervisord가 정상 동작하도록 하는 것을 목적으로 함             #
#############################################################################


1. 호환성 검증
 -> svd & svctl 정상 동작 확인 버전
-----------------------------------------------------------------------------
  Python Version: python2.7.18 / python3.9.21 / python3.12.11
  Supervisor Version: 4.2.5 / 4.3.0
-----------------------------------------------------------------------------


1. ENV 변수 치환 실행
  -> supervisord.conf에 등록된 env 변수를 실제 값으로 치환
-----------------------------------------------------------------------------
  %(ENV_USER)s      -> 실행 계정명으로 치환
  %(ENGN)s          -> 실행 스크립트가 위치한 절대경로로 치환
  %(ENGN_ROOT)s     -> 실행 스크립트가 위치한 절대경로로 치환
  %(MAUM_ROOT)s     -> 실행 스크립트가 위치한 절대경로로 치환
-----------------------------------------------------------------------------



2. supervisord.conf
  -> supervisord.conf 파일과 conf.d 디렉토리는 cfg 하위에 위치
-----------------------------------------------------------------------------
  ./cfg/supervisord.conf
  ./cfg/conf.d/*.conf
-----------------------------------------------------------------------------



3. code
  -> ENGN_ROOT에 등록하는 기본 script 경로
-----------------------------------------------------------------------------
  ./code
-----------------------------------------------------------------------------



4. log
  -> supervisor에 등록한 process들의 로그 경로
-----------------------------------------------------------------------------
  ./log
  ./log/supervisor
-----------------------------------------------------------------------------



5. run
  -> socket, pid 파일 적재 경로
-----------------------------------------------------------------------------
  ./run/supervisor.sock
  ./run/supervisord.pid
-----------------------------------------------------------------------------



6. shutdown svd
  -> svd 종료
  -> replace_supervisord.conf 파일 삭제
-----------------------------------------------------------------------------
  ./shutdown.sh
-----------------------------------------------------------------------------

